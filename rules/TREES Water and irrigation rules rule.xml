<rules moduleSOID="TREES Water and irrigation rules rule">
<rule SOID="clay-compacted">
<ruledefinition definition=""/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=CL}"/>
        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="density"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=COMPACTED}"/>
        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drainage confirmation"/>
        </argument1>
        <argument2>
      <factvalue type="boolean" value="true"/>
        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="or">
        <argument1>
              <mathtemplate type="parenthesis">
          <argument>
                  <mathtemplate type="equal">
            <argument1>
          <fact SOID="drain"/>
            </argument1>
            <argument2>
          <factvalue type="string" value="{1=WD}"/>
            </argument2>
          </mathtemplate>

          </argument>
        </mathtemplate>

        </argument1>
        <argument2>
              <mathtemplate type="parenthesis">
          <argument>
                  <mathtemplate type="equal">
            <argument1>
          <fact SOID="drain"/>
            </argument1>
            <argument2>
          <factvalue type="string" value="{1=EXWD}"/>
            </argument2>
          </mathtemplate>

          </argument>
        </mathtemplate>

        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<question soid="TREES compacted well drained"/>
</actions>
</rule>

<rule SOID="highzone-hwt-irri-e">
<ruledefinition definition="if irrigation is established and drainage is high water table and zone is anything and if zone is greater than or equal to 9a or less than or equal to 11 then put (soil MD)(soil DR) on facts list"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="irri"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=E}"/>
    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="equal">
      <argument1>
    <fact SOID="drain"/>
      </argument1>
      <argument2>
    <factvalue type="string" value="{1=HWT}"/>
      </argument2>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="and">
        <argument1>
              <mathtemplate type="greaterandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="9"/>
          </argument2>
        </mathtemplate>

        </argument1>
        <argument2>
              <mathtemplate type="lessandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="13"/>
          </argument2>
        </mathtemplate>

        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<assert fact="soil MD"/>
<assert fact="soil DR"/>
</actions>
</rule>

<rule SOID="highzone-irri-o-dr-wd-exwd">
<ruledefinition definition="if drainage is well drained or exceedingly well drained and irrigation is occasional and if zone is greater than or equal to 9a and less than or equal to 11 then put (soil DR)(soil MD) on facts list"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=WD}"/>
        </argument2>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=EXWD}"/>
        </argument2>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="equal">
      <argument1>
    <fact SOID="irri"/>
      </argument1>
      <argument2>
    <factvalue type="string" value="{1=O}"/>
      </argument2>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="and">
        <argument1>
              <mathtemplate type="greaterandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="9"/>
          </argument2>
        </mathtemplate>

        </argument1>
        <argument2>
              <mathtemplate type="lessandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="13"/>
          </argument2>
        </mathtemplate>

        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<assert fact="soil DR"/>
<assert fact="soil MD"/>
</actions>
</rule>

<rule SOID="highzone-wd-exwd-irri-e">
<ruledefinition definition=""/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=WD}"/>
        </argument2>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=EXWD}"/>
        </argument2>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="equal">
      <argument1>
    <fact SOID="irri"/>
      </argument1>
      <argument2>
    <factvalue type="string" value="{1=E}"/>
      </argument2>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="and">
        <argument1>
              <mathtemplate type="greaterandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="9"/>
          </argument2>
        </mathtemplate>

        </argument1>
        <argument2>
              <mathtemplate type="lessandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="13"/>
          </argument2>
        </mathtemplate>

        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<assert fact="soil DR"/>
</actions>
</rule>

<rule SOID="loose-clay">
<ruledefinition definition="if soil is clay and density is loose then goto TREES loose clay"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="soil"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=CL}"/>
    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="density"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=LOOSE}"/>
    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<question soid="TREES loose clay"/>
<halt/>
</actions>
</rule>

<rule SOID="loose-sand-or-loam">
<ruledefinition definition=""/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="density"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=LOOSE}"/>
    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=SA}"/>
        </argument2>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=LO}"/>
        </argument2>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<question soid="TREES water drainage"/>
</actions>
</rule>

<rule SOID="lowzone-irri-e-wd-exwd">
<ruledefinition definition="if drainage is well drained or exceedingly well drained and irrigation is established and zone is greater than or equal to 4 and less than or equal to 8b then put (soil DR)(soil MD) on facts list"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=WD}"/>
        </argument2>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=EXWD}"/>
        </argument2>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="equal">
      <argument1>
    <fact SOID="irri"/>
      </argument1>
      <argument2>
    <factvalue type="string" value="{1=E}"/>
      </argument2>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="and">
        <argument1>
              <mathtemplate type="greaterandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="-1"/>
          </argument2>
        </mathtemplate>

        </argument1>
        <argument2>
              <mathtemplate type="lessandequal">
          <argument1>
        <fact SOID="zn"/>
          </argument1>
          <argument2>
        <factvalue type="integer" value="8"/>
          </argument2>
        </mathtemplate>

        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<assert fact="soil DR"/>
<assert fact="soil MD"/>
</actions>
</rule>

<rule SOID="no-irri-hwt">
<ruledefinition definition="if drainage is high water table and irrigation is no, put (soil DR)(soil MD) on facts list"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="drain"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=HWT}"/>
    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="irri"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=N}"/>
    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<assert fact="soil DR"/>
<assert fact="soil MD"/>
</actions>
</rule>

<rule SOID="no-irri-wd-exwd">
<ruledefinition definition="if drainage is well drained or exceedingly well drained and irrigation is no, then put (soil DR) on facts list"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=WD}"/>
        </argument2>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drain"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=EXWD}"/>
        </argument2>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="irri"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=N}"/>
    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<assert fact="soil DR"/>
</actions>
</rule>

<rule SOID="not-clay-and-well-drained-1">
<ruledefinition definition="If soil is loam or sand and if drainage is well drained or exceedingly well drained and if density is compacted then goto TREES compacted soil"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=LO}"/>
        </argument2>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=SA}"/>
        </argument2>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="or">
        <argument1>
              <mathtemplate type="equal">
          <argument1>
        <fact SOID="drain"/>
          </argument1>
          <argument2>
        <factvalue type="string" value="{1=WD}"/>
          </argument2>
        </mathtemplate>

        </argument1>
        <argument2>
              <mathtemplate type="equal">
          <argument1>
        <fact SOID="drain"/>
          </argument1>
          <argument2>
        <factvalue type="string" value="{1=EXWD}"/>
          </argument2>
        </mathtemplate>

        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="equal">
      <argument1>
    <fact SOID="density"/>
      </argument1>
      <argument2>
    <factvalue type="string" value="{1=COMPACTED}"/>
      </argument2>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<question soid="TREES compacted soil"/>
</actions>
</rule>

<rule SOID="vand-yes-rule">
<ruledefinition definition=""/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="crime"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=Y}"/>
    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="irri"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=N}"/>
    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<message soid="TREES MS WATER NO TREES"/>
<report soid="TREES RT NOIRVAND"/>
<question soid="TREES end crime"/>
<halt/>
</actions>
</rule>

<rule SOID="clay-and-well-drained">
<ruledefinition definition=""/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="and">
    <argument1>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=CL}"/>
        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument1>
    <argument2>
      <mathtemplate type="parenthesis">
      <argument>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="drainage confirmation"/>
        </argument1>
        <argument2>
      <factvalue type="boolean" value="false"/>
        </argument2>
      </mathtemplate>

      </argument>
    </mathtemplate>

    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="parenthesis">
        <argument>
              <mathtemplate type="equal">
          <argument1>
        <fact SOID="drain"/>
          </argument1>
          <argument2>
        <factvalue type="string" value="{1=WD}"/>
          </argument2>
        </mathtemplate>

        </argument>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="parenthesis">
        <argument>
              <mathtemplate type="equal">
          <argument1>
        <fact SOID="drain"/>
          </argument1>
          <argument2>
        <factvalue type="string" value="{1=EXWD}"/>
          </argument2>
        </mathtemplate>

        </argument>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<question soid="TREES clay and well drained?"/>
</actions>
</rule>

<rule SOID="Loose sand or loam rule">
<ruledefinition definition="If the user indicated that the soil density is loose and the soil types are either sandy or loamy, then ask user how fast does water drain through the soil."/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="soil-density"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=Loose}"/>
    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="parenthesis">
    <argument>
      <mathtemplate type="or">
      <argument1>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil-type"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=Sand}"/>
        </argument2>
      </mathtemplate>

      </argument1>
      <argument2>
          <mathtemplate type="equal">
        <argument1>
      <fact SOID="soil-type"/>
        </argument1>
        <argument2>
      <factvalue type="string" value="{1=Loam}"/>
        </argument2>
      </mathtemplate>

      </argument2>
    </mathtemplate>

    </argument>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<question soid="TREES water drainage"/>
<halt/>
</actions>
</rule>

<rule SOID="Loose clay rule">
<ruledefinition definition="If the soil is of type clay and the soil density is loose, then ask a question that confirms the users' asserting that the soil is indeed loose. Experts believe that many clay soils in urban areas are compacted"/>
<condition>
<mathtemplate type="and">
  <argument1>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="soil-type"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=Clay}"/>
    </argument2>
  </mathtemplate>

  </argument1>
  <argument2>
  <mathtemplate type="equal">
    <argument1>
  <fact SOID="soil-density"/>
    </argument1>
    <argument2>
  <factvalue type="string" value="{1=Loose}"/>
    </argument2>
  </mathtemplate>

  </argument2>
</mathtemplate>

</condition>
<actions>
<question soid="TREES loose clay"/>
<halt/>
</actions>
</rule>

</rules>
